"use client";
import React, { createContext, useContext, useMemo, useEffect, useState } from 'react';
import { useAuth } from '../components/context/AuthContext';

type Messages = Record<string, string>;

const en: Messages = {
  'app.title': 'Lumio',
  'app.subtitle': 'Find trusted service providers through recommendations from friends and family',
  'nav.connections': 'Friends',
  'nav.services': 'Services',
  'nav.recommendations': 'My Providers',
  'nav.profile': 'Profile',
  'provider.tabs.profile': 'Profile',
  'provider.tabs.recommendations': 'Recommendations',
  'provider.tabs.share': 'Share Profile',
  'services.title': 'Find Service Providers',
  'services.subtitle': 'Find trusted service providers through your network',
  'services.search': 'Search providers...',
  'services.showMore': 'Show more categories',
  'services.guestCtaText': 'Want to see all available service providers?',
  'auth.createAccount': 'Create Account',
  'auth.join': 'Join Lumio',
  'auth.iAm': 'I am a',
  'auth.language': 'Language',
  'auth.fullName': 'Full Name',
  'auth.fullNamePh': 'Enter your full name',
  'auth.whatsAppPhone': 'WhatsApp Phone Number',
  'auth.phone': 'Phone Number',
  'auth.phonePh': '70 123 4567',
  'auth.cities': 'Cities',
  'auth.selectCities': 'Select cities',
  'auth.password': 'Password',
  'auth.createPassword': 'Create a password',
  'auth.confirmPassword': 'Confirm Password',
  'auth.confirmPasswordPh': 'Confirm your password',
  'auth.creating': 'Creating Account...',
  'auth.alreadyHave': 'Already have an account?',
  'auth.signIn': 'Sign In',
  'auth.welcomeBack': 'Welcome Back',
  'auth.signInSubtitle': 'Sign in to your account',
  'auth.signingIn': 'Signing In...',
  'auth.dontHave': "Don't have an account?",
  'auth.logout': 'Logout',
  'auth.confirmLogout': 'Confirm Logout',
  'auth.logoutWarning': 'Are you sure you want to logout? You will need to sign in again to access your account.',
  'landing.tagline': 'Digitizing trust through verified recommendations. Connect with reliable service providers through Lumio.',
  'landing.trusted': 'Lumio Networks',
  'landing.trustedText': 'Build your network of trusted service providers and connections',
  'landing.verified': 'Verified Recommendations',
  'landing.verifiedText': 'Get recommendations from people you trust in Lumio',
  'landing.quick': 'Quick Connect',
  'landing.quickText': 'Instantly connect with service providers via WhatsApp',
  'landing.getStarted': 'Get Started',
  'landing.getStartedText': 'Join Lumio to get started',
  'landing.browseGuest': 'Browse as Guest',
  'connections.title': 'Find Friends',
  'connections.subtitle': 'Connect with people you trust to discover and share reliable service provider recommendations. Build your network on Lumio to access verified contacts and help others find great services.',
  'connections.findPeople': 'Find People',
  'connections.requests': 'Requests',
  'connections.grow': 'Grow Your Friends',
  'connections.growText': "The more friends you have, the better recommendations you'll get",
  'connections.invite': 'Invite Friends',
  'connections.guestCtaText': 'Want to see all your friends?',
  'recs.title': 'My Providers',
  'recs.subtitle': 'Manage and share your trusted service providers',
  'recs.addTitle': 'Add Service Provider',
  'recs.addSubtitle': 'Know a great service provider? Share them with your network on Lumio',
  'recs.addCta': 'Add Service Provider',
  'recs.listTitle': 'Your Recommendations',
  'recs.whatYouLiked': 'What You Liked',
  'recs.watchFor': 'Things to Watch For',
  'recs.guestCtaText': 'Want to see all your recommendations?',
  'recs.recommendationDetails': 'Recommendation Details',
  'recs.editRecommendation': 'Edit Recommendation',
  'recs.providerName': 'Provider Name',
  'recs.serviceType': 'Service Type',
  'recs.phoneNumber': 'Phone Number',
  'recs.location': 'Location',
  'recs.optional': 'Optional',
  'recs.adding': 'Adding...',
  'recs.addRecommendation': 'Add Recommendation',
  'recs.enterProviderName': 'Enter provider name',
  'recs.selectServiceType': 'Select service type',
  'recs.jobQuality': 'Job quality',
  'recs.timeliness': 'Timeliness',
  'recs.cleanOrganized': 'Clean & Organized',
  'recs.professional': 'Professional',
  'recs.reliableTrustworthy': 'Reliable & Trustworthy',
  'recs.fairPricing': 'Fair pricing',
  'recs.expensive': 'Expensive',
  'recs.limitedAvailability': 'Limited availability',
  'recs.punctuality': 'Punctuality',
  'recs.communication': 'Communication',
  'connections.back': 'Back',
  'connections.connected': 'Connected',
  'connections.theirTrustedProviders': 'Their Trusted Providers',
  'connections.serviceProvidersRecommendedBy': 'Service providers recommended by',
  'connections.whatLiked': 'What {name} Liked',
  'connections.contactViaWhatsApp': 'Contact via WhatsApp',
  'connections.viewRecommendations': 'View Recommendations',
  'connections.view': 'View',
  'connections.acceptedRequest': '{name} accepted your friend request!',
  'connections.nowInFriendsList': 'They are now in your friends list.',
  'provider.providerDetails': 'Provider Details',
  'provider.privateNumber': 'Private number',
  'provider.recommendedBy': 'Recommended by',
  'common.contact': 'Contact',
  'common.share': 'Share',
  'common.delete': 'Delete',
  'common.public': 'Public',
  'common.manage': 'Manage',
  'common.cancel': 'Cancel',
  'profile.myProfile': 'My Profile',
  'profile.subtitle': 'Your Lumio profile and settings',
  'profile.yourNetwork': 'Your Friends',
  'profile.connections': 'Friends',
  'profile.recommendations': 'Recommendations',
  'profile.edit': 'Edit',
  'profile.editProfile': 'Edit Profile',
  'profile.settings': 'Profile Settings',
  'profile.visibility': 'Profile Visibility',
  'profile.visibilityDesc': 'Who can see your profile and recommendations',
  'profile.notifications': 'Notification Settings',
  'profile.notificationsDesc': 'Manage how you receive updates',
  'profile.languageHelp': 'This changes the language across your account.',
  'common.save': 'Save changes',
  'common.saving': 'Saving...',
  'onboard.seeker.welcome.title': 'Welcome to Lumio! üëã',
  'onboard.seeker.welcome.desc': 'Let\'s take a quick tour to show you how to find trusted service providers through your network on Lumio.',
  'onboard.seeker.connections-tab.title': 'Start with Connections',
  'onboard.seeker.connections-tab.desc': 'This is where you build your network on Lumio. Connect with friends and family to access their recommendations.',
  'onboard.seeker.invite-friends.title': 'Invite Friends',
  'onboard.seeker.invite-friends.desc': 'Click here to invite friends. The more connections you have, the better recommendations you\'ll get!',
  'onboard.seeker.click-connections.title': 'View Their Recommendations',
  'onboard.seeker.click-connections.desc': 'Click on any person to see the service providers they recommend. This is the core of Lumio!',
  'onboard.seeker.services-tab.title': 'Find Service Providers',
  'onboard.seeker.services-tab.desc': 'Switch to Services to browse providers recommended by your network on Lumio.',
  'onboard.seeker.search-providers.title': 'Search & Filter',
  'onboard.seeker.search-providers.desc': 'Use the search bar and categories to find exactly what you need.',
  'onboard.seeker.recommendations-tab.title': 'Add Your Recommendations',
  'onboard.seeker.recommendations-tab.desc': 'Know a great service provider? Add them here to help your network on Lumio!',
  'onboard.seeker.add-recommendation-button.title': 'Add Service Providers',
  'onboard.seeker.add-recommendation-button.desc': 'Click here to add a trusted service provider to your recommendations and share them with your network on Lumio.',
  'onboard.seeker.profile-tab.title': 'Your Profile',
  'onboard.seeker.profile-tab.desc': 'Manage your account settings and view your network stats here.',
  'onboard.provider.welcome.title': 'Welcome to Lumio! üëã',
  'onboard.provider.welcome.desc': 'Let\'s show you how to grow your business through trusted recommendations.',
  'onboard.provider.recommendations-view.title': 'My Recommendations',
  'onboard.provider.recommendations-view.desc': 'View how many people recommend you and who trusts your services.',
  'onboard.provider.share-profile.title': 'Share Your Profile',
  'onboard.provider.share-profile.desc': 'Share your profile so others can recommend you to their network on Lumio.',
  'role.seeker': 'Seeker',
  'role.provider': 'Provider',
  'category.all': 'All',
  'category.plumber': 'Plumber',
  'category.electrician': 'Electrician',
  'category.hvac': 'HVAC',
  'category.carpenter': 'Carpenter',
  'category.handyman': 'Handyman',
  // Provider-specific translations
  'provider.recommendations': 'Recommendations',
  'provider.welcome': 'Welcome!',
  'provider.welcomeMessage': 'people have already recommended you. üéâ',
  'provider.peopleRecommend': 'People Who Recommend You',
  'provider.seeWhoTrusts': 'See who trusts and recommends your services',
  'provider.loading': 'Loading...',
  'provider.noRecommendations': 'No recommendations yet.',
  'provider.whatTheyLiked': 'What They Liked',
  'provider.thingsToWatch': 'Things to Watch For',
  'provider.shareProfile': 'Share Your Profile',
  'provider.getMoreRecommendations': 'Get more recommendations by sharing your profile with customers',
  'provider.qrCode': 'QR Code',
  'provider.shareLink': 'Share Link',
  'provider.showQrToCustomers': 'Show this QR code to customers so they can easily add you to their recommendations',
  'provider.copied': 'Copied!',
  'provider.copyLink': 'Copy Link',
  'provider.shareViaWhatsApp': 'Share via WhatsApp',
  'provider.howToGetMore': 'How to Get More Recommendations',
  'provider.step1': 'Share your profile link or QR code with satisfied customers',
  'provider.step2': 'They can add you to their trusted providers even without an account',
  'provider.step3': 'More recommendations mean more visibility to their network',
  'provider.saving': 'Saving...',
  'provider.welcomeToJokko': 'Welcome to Jokko!',
  'provider.autoRecommendations': 'If people recommended your services before you joined, they\'ll appear here automatically.',
  'provider.gotIt': 'Got it',
  // Service provider recommendation translations
  'services.recommendedBy': 'Recommended by',
  'services.recommendedByNetwork': 'in your network',
  'services.recommendedByOne': 'in your network',
  'services.noNetworkRecommendations': 'No one in your network has recommended this provider yet',
  'services.viewAllRecommendations': 'View all recommendations',
  'services.recommendations': 'Recommendations',
  'services.peopleWhoRecommended': 'People who recommended this provider',
};

const fr: Messages = {
  'app.title': 'Lumio',
  'app.subtitle': 'Trouvez des prestataires de confiance gr√¢ce aux recommandations d\'amis et de famille',
  'nav.connections': 'Amis',
  'nav.services': 'Services',
  'nav.recommendations': 'Mes prestataires',
  'nav.profile': 'Profil',
  'provider.tabs.profile': 'Profil',
  'provider.tabs.recommendations': 'Recommandations',
  'provider.tabs.share': 'Partager le profil',
  'services.title': 'Prestataires de services',
  'services.subtitle': 'Trouvez des prestataires fiables via votre r√©seau',
  'services.search': 'Rechercher des prestataires...',
  'services.showMore': 'Afficher plus de cat√©gories',
  'services.guestCtaText': 'Vous voulez voir tous les prestataires disponibles ?',
  'auth.createAccount': 'Cr√©er un compte',
  'auth.join': 'Rejoignez le r√©seau de confiance',
  'auth.iAm': 'Je suis',
  'auth.language': 'Langue',
  'auth.fullName': 'Nom complet',
  'auth.fullNamePh': 'Entrez votre nom complet',
  'auth.whatsAppPhone': 'Num√©ro WhatsApp',
  'auth.phone': 'Num√©ro de t√©l√©phone',
  'auth.phonePh': '70 123 4567',
  'auth.cities': 'Villes',
  'auth.selectCities': 'S√©lectionnez des villes',
  'auth.password': 'Mot de passe',
  'auth.createPassword': 'Cr√©er un mot de passe',
  'auth.confirmPassword': 'Confirmez le mot de passe',
  'auth.confirmPasswordPh': 'Confirmez votre mot de passe',
  'auth.creating': 'Cr√©ation du compte...',
  'auth.alreadyHave': 'Vous avez d√©j√† un compte ?',
  'auth.signIn': 'Se connecter',
  'auth.welcomeBack': 'Bon retour',
  'auth.signInSubtitle': 'Connectez-vous √† votre compte',
  'auth.signingIn': 'Connexion...',
  'auth.dontHave': "Vous n'avez pas de compte ?",
  'auth.logout': 'D√©connexion',
  'auth.confirmLogout': 'Confirmer la d√©connexion',
  'auth.logoutWarning': '√ätes-vous s√ªr de vouloir vous d√©connecter ? Vous devrez vous reconnecter pour acc√©der √† votre compte.',
  'landing.tagline': 'Digitaliser la confiance gr√¢ce aux recommandations v√©rifi√©es. Connectez-vous √† des prestataires fiables via Lumio.',
  'landing.trusted': 'R√©seaux Lumio',
  'landing.trustedText': 'D√©veloppez votre r√©seau de prestataires et de connexions',
  'landing.verified': 'Recommandations v√©rifi√©es',
  'landing.verifiedText': 'Recevez des recommandations de personnes de confiance sur Lumio',
  'landing.quick': 'Connexion rapide',
  'landing.quickText': 'Contactez instantan√©ment via WhatsApp',
  'landing.getStarted': 'Commencer',
  'landing.getStartedText': 'Rejoignez Lumio pour commencer',
  'landing.browseGuest': 'Parcourir en invit√©',
  'connections.title': 'Trouver des amis',
  'connections.subtitle': 'Connectez-vous avec des personnes de confiance pour d√©couvrir et partager des recommandations de prestataires fiables. Construisez votre r√©seau sur Lumio pour acc√©der aux contacts v√©rifi√©s et aider les autres √† trouver de bons services.',
  'connections.findPeople': 'Trouver des personnes',
  'connections.requests': 'Demandes',
  'connections.grow': 'D√©veloppez vos amis',
  'connections.growText': 'Plus vous avez d‚Äôamis, meilleures seront vos recommandations',
  'connections.invite': 'Inviter des amis',
  'connections.guestCtaText': 'Vous voulez voir tous vos amis ?',
  'recs.title': 'Mes prestataires',
  'recs.subtitle': 'G√©rez et partagez vos prestataires de confiance',
  'recs.addTitle': 'Ajouter un prestataire',
  'recs.addSubtitle': 'Vous connaissez un excellent prestataire ? Partagez-le avec votre r√©seau',
  'recs.addCta': 'Ajouter un prestataire',
  'recs.listTitle': 'Vos recommandations',
  'recs.whatYouLiked': 'Ce que vous avez aim√©',
  'recs.watchFor': 'Points d\'attention',
  'recs.guestCtaText': 'Vous voulez voir toutes vos recommandations ?',
  'recs.recommendationDetails': 'D√©tails de la recommandation',
  'recs.editRecommendation': 'Modifier la recommandation',
  'recs.providerName': 'Nom du prestataire',
  'recs.serviceType': 'Type de service',
  'recs.phoneNumber': 'Num√©ro de t√©l√©phone',
  'recs.location': 'Localisation',
  'recs.optional': 'Optionnel',
  'recs.adding': 'Ajout en cours...',
  'recs.addRecommendation': 'Ajouter une recommandation',
  'recs.enterProviderName': 'Entrez le nom du prestataire',
  'recs.selectServiceType': 'S√©lectionnez le type de service',
  'recs.jobQuality': 'Qualit√© du travail',
  'recs.timeliness': 'Ponctualit√©',
  'recs.cleanOrganized': 'Propre et organis√©',
  'recs.professional': 'Professionnel',
  'recs.reliableTrustworthy': 'Fiable et digne de confiance',
  'recs.fairPricing': 'Tarifs √©quitables',
  'recs.expensive': 'Cher',
  'recs.limitedAvailability': 'Disponibilit√© limit√©e',
  'recs.punctuality': 'Ponctualit√©',
  'recs.communication': 'Communication',
  'connections.back': 'Retour',
  'connections.connected': 'Connect√©',
  'connections.theirTrustedProviders': 'Leurs prestataires de confiance',
  'connections.serviceProvidersRecommendedBy': 'Prestataires recommand√©s par',
  'connections.whatLiked': 'Ce que {name} a aim√©',
  'connections.contactViaWhatsApp': 'Contacter via WhatsApp',
  'connections.viewRecommendations': 'Voir les recommandations',
  'connections.view': 'Voir',
  'connections.acceptedRequest': '{name} a accept√© votre demande d\'ami !',
  'connections.nowInFriendsList': 'Ils sont maintenant dans votre liste d\'amis.',
  'provider.providerDetails': 'D√©tails du prestataire',
  'provider.privateNumber': 'Num√©ro priv√©',
  'provider.recommendedBy': 'Recommand√© par',
  'common.contact': 'Contacter',
  'common.share': 'Partager',
  'common.delete': 'Supprimer',
  'common.public': 'Public',
  'common.manage': 'G√©rer',
  'common.cancel': 'Annuler',
  'profile.myProfile': 'Mon profil',
  'profile.subtitle': 'Votre profil et param√®tres du r√©seau de confiance',
  'profile.yourNetwork': 'Vos amis',
  'profile.connections': 'Amis',
  'profile.recommendations': 'Recommandations',
  'profile.edit': 'Modifier',
  'profile.editProfile': 'Modifier le profil',
  'profile.settings': 'Param√®tres du profil',
  'profile.visibility': 'Visibilit√© du profil',
  'profile.visibilityDesc': 'Qui peut voir votre profil et vos recommandations',
  'profile.notifications': 'Param√®tres de notification',
  'profile.notificationsDesc': 'G√©rer la mani√®re dont vous recevez les mises √† jour',
  'profile.languageHelp': 'Cela modifie la langue sur tout votre compte.',
  'common.save': 'Enregistrer',
  'common.saving': 'Enregistrement...',
  'onboard.seeker.welcome.title': 'Bienvenue sur R√©seau de Confiance ! üëã',
  'onboard.seeker.welcome.desc': 'Faisons un tour rapide pour vous montrer comment trouver des prestataires de confiance via votre r√©seau.',
  'onboard.seeker.connections-tab.title': 'Commencez par Connexions',
  'onboard.seeker.connections-tab.desc': 'C\'est ici que vous construisez votre r√©seau. Connectez-vous pour acc√©der aux recommandations.',
  'onboard.seeker.invite-friends.title': 'Inviter des amis',
  'onboard.seeker.invite-friends.desc': 'Plus vous avez de connexions, meilleures seront vos recommandations.',
  'onboard.seeker.click-connections.title': 'Voir leurs recommandations',
  'onboard.seeker.click-connections.desc': 'Cliquez sur une personne pour voir les prestataires qu\'elle recommande.',
  'onboard.seeker.services-tab.title': 'Trouver des prestataires',
  'onboard.seeker.services-tab.desc': 'Passez √† Services pour parcourir les prestataires recommand√©s.',
  'onboard.seeker.search-providers.title': 'Rechercher & filtrer',
  'onboard.seeker.search-providers.desc': 'Utilisez la recherche et les cat√©gories pour trouver exactement ce qu\'il vous faut.',
  'onboard.seeker.recommendations-tab.title': 'Ajoutez vos recommandations',
  'onboard.seeker.recommendations-tab.desc': 'Ajoutez ici les prestataires que vous appr√©ciez.',
  'onboard.seeker.add-recommendation-button.title': 'Ajouter un prestataire',
  'onboard.seeker.add-recommendation-button.desc': 'Cliquez ici pour ajouter un prestataire √† vos recommandations.',
  'onboard.seeker.profile-tab.title': 'Votre profil',
  'onboard.seeker.profile-tab.desc': 'G√©rez votre compte et consultez vos statistiques.',
  'onboard.provider.welcome.title': 'Bienvenue sur R√©seau de Confiance ! üëã',
  'onboard.provider.welcome.desc': 'Voici comment d√©velopper votre activit√© gr√¢ce aux recommandations.',
  'onboard.provider.recommendations-view.title': 'Mes recommandations',
  'onboard.provider.recommendations-view.desc': 'Voyez qui vous recommande et combien.',
  'onboard.provider.share-profile.title': 'Partager votre profil',
  'onboard.provider.share-profile.desc': 'Partagez votre profil pour √™tre recommand√© dans d\'autres r√©seaux.',
  'role.seeker': 'Demandeur',
  'role.provider': 'Prestataire',
  'category.all': 'Tous',
  'category.plumber': 'Plombier',
  'category.electrician': '√âlectricien',
  'category.hvac': 'CVC',
  'category.carpenter': 'Menuisier',
  'category.handyman': 'Bricoleur',
  // Provider-specific translations
  'provider.recommendations': 'Recommandations',
  'provider.welcome': 'Bienvenue !',
  'provider.welcomeMessage': 'personnes vous ont d√©j√† recommand√©. üéâ',
  'provider.peopleRecommend': 'Personnes qui vous recommandent',
  'provider.seeWhoTrusts': 'Voyez qui fait confiance et recommande vos services',
  'provider.loading': 'Chargement...',
  'provider.noRecommendations': 'Aucune recommandation pour le moment.',
  'provider.whatTheyLiked': 'Ce qu\'ils ont aim√©',
  'provider.thingsToWatch': 'Points d\'attention',
  'provider.shareProfile': 'Partager votre profil',
  'provider.getMoreRecommendations': 'Obtenez plus de recommandations en partageant votre profil avec vos clients',
  'provider.qrCode': 'Code QR',
  'provider.shareLink': 'Lien de partage',
  'provider.showQrToCustomers': 'Montrez ce code QR aux clients pour qu\'ils puissent facilement vous ajouter √† leurs recommandations',
  'provider.copied': 'Copi√© !',
  'provider.copyLink': 'Copier le lien',
  'provider.shareViaWhatsApp': 'Partager via WhatsApp',
  'provider.howToGetMore': 'Comment obtenir plus de recommandations',
  'provider.step1': 'Partagez votre lien de profil ou code QR avec vos clients satisfaits',
  'provider.step2': 'Ils peuvent vous ajouter √† leurs prestataires de confiance m√™me sans compte',
  'provider.step3': 'Plus de recommandations signifie plus de visibilit√© dans leur r√©seau',
  'provider.saving': 'Sauvegarde...',
  'provider.welcomeToJokko': 'Bienvenue sur Jokko !',
  'provider.autoRecommendations': 'Si des personnes ont recommand√© vos services avant votre inscription, elles appara√Ætront ici automatiquement.',
  'provider.gotIt': 'Compris',
  // Service provider recommendation translations
  'services.recommendedBy': 'Recommand√© par',
  'services.recommendedByNetwork': 'dans votre r√©seau',
  'services.recommendedByOne': 'dans votre r√©seau',
  'services.noNetworkRecommendations': 'Personne de votre r√©seau n\'a encore recommand√© ce prestataire',
  'services.viewAllRecommendations': 'Voir toutes les recommandations',
  'services.recommendations': 'Recommandations',
  'services.peopleWhoRecommended': 'Personnes qui ont recommand√© ce prestataire',
};

const wo: Messages = {
  'app.title': 'Lumio',
  'app.subtitle': 'Seet sarwiis yu w√©r ci ndigaal ci xarit ak mbokk',
  'nav.connections': 'Xarit',
  'nav.services': 'Sarwiis',
  'nav.recommendations': 'Sarwiis yi',
  'nav.profile': 'Samp bi',
  'provider.tabs.profile': 'Samp bi',
  'provider.tabs.recommendations': 'Ndigaal yi',
  'provider.tabs.share': 'Bokk samp bi',
  'services.title': 'Sarwiis yi',
  'services.subtitle': 'Gis sarwiis yu w√©r ci sa mbokk',
  'services.search': 'Seet sarwiis...',
  'services.showMore': 'Wone goor gi yeneen',
  'services.guestCtaText': 'Ndax b√´gg ngeen gis sarwiis y√©pp?',
  'auth.createAccount': 'Sos ak√†unt',
  'auth.join': 'Bokk ci r√©seau ju w√©r',
  'auth.iAm': 'Man maa ngi',
  'auth.language': 'L√†kk',
  'auth.fullName': 'Turu mat',
  'auth.fullNamePh': 'Dugal sa turu mat',
  'auth.whatsAppPhone': 'Waasap numeer',
  'auth.phone': 'Numeer telefon',
  'auth.phonePh': '70 123 4567',
  'auth.cities': 'D√´kki yi',
  'auth.selectCities': 'T√†nn d√´kki yi',
  'auth.password': 'Baatu j√†ll',
  'auth.createPassword': 'Sos baatu j√†ll',
  'auth.confirmPassword': 'D√´ggal baatu j√†ll',
  'auth.confirmPasswordPh': 'D√´ggal sa baatu j√†ll',
  'auth.creating': 'Mi ngi sos ak√†unt...',
  'auth.alreadyHave': 'Am nga ak√†unt ?',
  'auth.signIn': 'Dugg',
  'auth.welcomeBack': 'Agsil ci kanam',
  'auth.signInSubtitle': 'Dugg ci sa ak√†unt',
  'auth.signingIn': 'Mi ngi dugg...',
  'auth.dontHave': 'Amuloo ak√†unt ?',
  'auth.logout': 'G√©nn',
  'auth.confirmLogout': 'D√´ggal g√©nn',
  'auth.logoutWarning': 'D√´gg nga b√´gg g√©nn? Dangay am soppiku ngir j√´kk a dugg ci sa ak√†unt.',
  'landing.tagline': '√ëu digitalise w√≥or te m√´n a g√´m. Jokk ak sarwiiser yu w√©r ci Lumio.',
  'landing.trusted': 'R√©seau Lumio',
  'landing.trustedText': 'Yokk sa r√©seauu sarwiiser ak mbokk',
  'landing.verified': 'Ndigaal yu w√≥or',
  'landing.verifiedText': 'J√´l ndigaal ci nit √±i nga g√´m ci Lumio',
  'landing.quick': 'Jokkoo gaaw',
  'landing.quickText': 'Jokkofal ci WhatsApp leegi',
  'landing.getStarted': 'Tambali',
  'landing.getStartedText': 'Bokk ci Lumio ngir tambali',
  'landing.browseGuest': 'Saytu niki d√´kkandoo',
  'connections.title': 'Seet xarit',
  'connections.subtitle': 'Jokkoo ak nit √±i nga g√´m ngir gis te bokk ndigaal yu w√©r ci sarwiis. Yokk sa xarit ci Lumio ngir am lu√±u g√´m te dimbali yeneen ngir gis sarwiis yu baax.',
  'connections.findPeople': 'Seet nit √±i',
  'connections.requests': 'D√´mmande yi',
  'connections.grow': 'Yokk sa xarit',
  'connections.growText': 'Boo amee xarit yu bari, ndigaal yi g√´na baax la',
  'connections.invite': 'Wut xarit',
  'connections.guestCtaText': 'Ndax b√´gg nga gis say xarit y√©pp?',
  'recs.title': 'Sarwiis yi',
  'recs.subtitle': 'Saytlu te bokk sarwiis yi nga g√´m',
  'recs.addTitle': 'Yokk sarwiiser',
  'recs.addSubtitle': 'Boo xamee sarwiis bu baax, bokk ko ak sa mbokk',
  'recs.addCta': 'Yokk sarwiiser',
  'recs.listTitle': 'Say ndigal',
  'recs.whatYouLiked': 'Loo b√´gg',
  'recs.watchFor': 'L√©pp yu war a seetlu',
  'recs.guestCtaText': 'Ndax b√´gg nga gis say ndigal y√©pp?',
  'recs.recommendationDetails': 'Xam-xam ndigal bi',
  'recs.editRecommendation': 'Soppi ndigal bi',
  'recs.providerName': 'Tur sarwiiser bi',
  'recs.serviceType': 'Turu sarwiis bi',
  'recs.phoneNumber': 'Numeer telefon',
  'recs.location': 'B√´j-g√†nnaar',
  'recs.optional': 'M√´n a am',
  'recs.adding': 'Mi ngi yokk...',
  'recs.addRecommendation': 'Yokk ndigal',
  'recs.enterProviderName': 'Dugal tur sarwiiser bi',
  'recs.selectServiceType': 'T√†nn turu sarwiis bi',
  'recs.jobQuality': 'Melu ligg√©ey bi',
  'recs.timeliness': 'W√†llu jamono',
  'recs.cleanOrganized': 'Set ak j√´fandikoo',
  'recs.professional': 'J√´fandikoo',
  'recs.reliableTrustworthy': 'W√≥or ak g√´m',
  'recs.fairPricing': 'Nj√†ng mu w√≥or',
  'recs.expensive': 'Jafe',
  'recs.limitedAvailability': 'Amul jamono',
  'recs.punctuality': 'W√†llu jamono',
  'recs.communication': 'Waxtaan',
  'connections.back': 'Dellu',
  'connections.connected': 'Jokkoo',
  'connections.theirTrustedProviders': 'Seen sarwiis yu w√©r',
  'connections.serviceProvidersRecommendedBy': 'Sarwiis yi √±u ndiggal',
  'connections.whatLiked': 'Loo {name} b√´gg',
  'connections.contactViaWhatsApp': 'Jokkool ci WhatsApp',
  'connections.viewRecommendations': 'Gis ndigal yi',
  'connections.view': 'Gis',
  'connections.acceptedRequest': '{name} am na la mbokk!',
  'connections.nowInFriendsList': '√ëu ngi ci sa listeu mbokk yi.',
  'provider.providerDetails': 'Xam-xam sarwiiser bi',
  'provider.privateNumber': 'Numeer bu √±uul',
  'provider.recommendedBy': 'Ndigaal na√±u ko',
  'common.contact': 'Jokkool',
  'common.share': 'Bokk',
  'common.delete': 'M√†bb',
  'common.public': 'Baayi',
  'common.manage': 'Saytu',
  'common.cancel': 'M√†bb',
  'profile.myProfile': 'Samp bi',
  'profile.subtitle': 'Sa samp ak tektal yi',
  'profile.yourNetwork': 'Say xarit',
  'profile.connections': 'Xarit',
  'profile.recommendations': 'Ndigaal yi',
  'profile.edit': 'Soppi',
  'profile.editProfile': 'Soppi profil bi',
  'profile.settings': 'Tektal samp',
  'profile.visibility': 'Wone samp bi',
  'profile.visibilityDesc': 'Kan mooy gis sa samp ak ndigaal yi',
  'profile.notifications': 'Tektal xibaar yi',
  'profile.notificationsDesc': 'Na nga saytu nanu la koy yeggali',
  'profile.languageHelp': 'Lii lay soppi l√†kk bi ci sa ak√†unt b√©pp.',
  'common.save': 'Aar soppi yi',
  'common.saving': 'Mi ngi aar...',
  'onboard.seeker.welcome.title': 'Nuyoo ci Lumio! üëã',
  'onboard.seeker.welcome.desc': 'Nanu la wone banqaasu yoon ngir founde sarwiis yu w√©r ci sa r√©seau.',
  'onboard.seeker.connections-tab.title': 'T√†mbali ak Xarit',
  'onboard.seeker.connections-tab.desc': 'Fii la nga g√´n a yokk sa r√©seau, jokkoo ak mbokk.',
  'onboard.seeker.invite-friends.title': 'Woo xarit',
  'onboard.seeker.invite-friends.desc': 'Bu xarit yi yoree, ndigaal yi g√´na baax.',
  'onboard.seeker.click-connections.title': 'Xool seen ndigaal',
  'onboard.seeker.click-connections.desc': 'Cuqal ci benn nit ngir gis sarwiis yi muy ndiggal.',
  'onboard.seeker.services-tab.title': 'Seet sarwiis',
  'onboard.seeker.services-tab.desc': 'Gis sarwiis yi nga mbokk a ndiggal.',
  'onboard.seeker.search-providers.title': 'Wut & s√†lloo',
  'onboard.seeker.search-providers.desc': 'J√´fandikoo seet gi ak kategooriye yi.',
  'onboard.seeker.recommendations-tab.title': 'Yokk say ndigaal',
  'onboard.seeker.recommendations-tab.desc': 'Yokk sarwiis bu baax ngir dimbali sa r√©seau.',
  'onboard.seeker.add-recommendation-button.title': 'Yokk sarwiiser',
  'onboard.seeker.add-recommendation-button.desc': 'Cuqal fii ngir yokk sarwiiser ci say ndigaal.',
  'onboard.seeker.profile-tab.title': 'Sa samp',
  'onboard.seeker.profile-tab.desc': 'Saytu sa koont ak sa statistique.',
  'onboard.provider.welcome.title': 'Nuyoo ci Lumio! üëã',
  'onboard.provider.welcome.desc': 'Nanu la wone nan laa m√´n a yokk sa ligg√©ey ci ndigaal.',
  'onboard.provider.recommendations-view.title': 'Samay ndigaal',
  'onboard.provider.recommendations-view.desc': 'Xool √±i da√±u la ndiggal ak lim bi.',
  'onboard.provider.share-profile.title': 'Bokk sa samp',
  'onboard.provider.share-profile.desc': 'Bokk sa samp ngir √±u m√´n la ndiggal ci seen r√©seau.',
  'role.seeker': 'Seeter',
  'role.provider': 'Sarwiiser',
  'category.all': 'L√©pp',
  'category.plumber': 'Plombie',
  'category.electrician': 'Elekterisyaan',
  'category.hvac': 'CVC',
  'category.carpenter': 'Ser√± kat',
  'category.handyman': 'J√´fandikoo',
  // Provider-specific translations
  'provider.recommendations': 'Ndigaal yi',
  'provider.welcome': 'Nuyoo !',
  'provider.welcomeMessage': 'nit √±u la ndiggal na√±u. üéâ',
  'provider.peopleRecommend': 'Nit √±i da√±u la ndiggal',
  'provider.seeWhoTrusts': 'Xool √±i da√±u la g√´m ak √±i da√±u la ndiggal',
  'provider.loading': 'J√†pp...',
  'provider.noRecommendations': 'Amul ndigaal ci tay.',
  'provider.whatTheyLiked': 'Luy leen n√†q',
  'provider.thingsToWatch': 'Luy war a xool',
  'provider.shareProfile': 'Bokk sa samp',
  'provider.getMoreRecommendations': 'Am ndigaal yu bare ci bokk sa samp ak say j√´fandikoo',
  'provider.qrCode': 'Kood QR',
  'provider.shareLink': 'Lien bu bokk',
  'provider.showQrToCustomers': 'Wone kood QR bi j√´fandikoo yi ngir √±u m√´n la yokk ci seen ndigaal',
  'provider.copied': 'Kopi na√±u !',
  'provider.copyLink': 'Kopi lien bi',
  'provider.shareViaWhatsApp': 'Bokk ci WhatsApp',
  'provider.howToGetMore': 'Nan laa m√´n a am ndigaal yu bare',
  'provider.step1': 'Bokk sa lien de samp walla kood QR ak j√´fandikoo yu b√´gg',
  'provider.step2': '√ëu m√´n la yokk ci seen sarwiis yu g√´m teewul amul koont',
  'provider.step3': 'Ndigaal yu bare tekki wone yu bare ci seen r√©seau',
  'provider.saving': 'J√†pp...',
  'provider.welcomeToJokko': 'Nuyoo ci Jokko !',
  'provider.autoRecommendations': 'Su nit √±i da√±u la ndiggal ci ndaxal sa ligg√©ey, dina√±u fee√± ci fii ci boppam.',
  'provider.gotIt': 'F√†ttalik',
  // Service provider recommendation translations
  'services.recommendedBy': 'Ndigaal na√±u ko',
  'services.recommendedByNetwork': 'ci sa mbokk',
  'services.recommendedByOne': 'ci sa mbokk',
  'services.noNetworkRecommendations': 'Amul nit ci sa mbokk √±u ndiggal na√±u ko',
  'services.viewAllRecommendations': 'Xool ndigaal y√©pp',
  'services.recommendations': 'Ndigaal yi',
  'services.peopleWhoRecommended': 'Nit √±i da√±u ndiggal sarwiiser bi',
};

const catalogs: Record<string, Messages> = { en, fr, wo };

interface I18nContextType {
  lang: string;
  t: (key: string, params?: Record<string, any>) => string;
  setLang: (lang: string) => void;
  isHydrated: boolean;
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export function I18nProvider({ children, forcedLang }: { children: React.ReactNode, forcedLang?: string }) {
  const { user } = useAuth();
  const preferred = (typeof window !== 'undefined' && localStorage.getItem('pref:lang')) || undefined;
  // Always start with 'en' to prevent hydration mismatches, then update in useEffect
  const [lang, setLangState] = useState<string>('en');
  const [isHydrated, setIsHydrated] = useState(false);
  
  useEffect(() => {
    // Mark as hydrated after first render
    setIsHydrated(true);
    
    if (forcedLang) {
      setLangState(forcedLang);
    } else {
      const next = (user?.language as string) || preferred || 'en';
      setLangState(next);
    }
  }, [user?.language, forcedLang, preferred]);
  const setLang = (l: string) => {
    setLangState(l);
    if (typeof window !== 'undefined') {
      const path = window.location?.pathname || '';
      // Only persist if no forcedLang and not on public auth route
      if (!forcedLang && !path.startsWith('/auth')) {
        localStorage.setItem('pref:lang', l);
      }
    }
  };
  const messages = catalogs[lang] || catalogs.en;
  const value = useMemo(() => ({
    lang,
    t: (key: string, params?: Record<string, any>) => {
      let message = messages[key] || catalogs.en[key] || key;
      if (params) {
        Object.keys(params).forEach(param => {
          message = message.replace(`{${param}}`, params[param]);
        });
      }
      return message;
    },
    setLang,
    isHydrated,
  }), [lang, messages, isHydrated]);
  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
}

export function useI18n() {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error('useI18n must be used within I18nProvider');
  return ctx;
}


